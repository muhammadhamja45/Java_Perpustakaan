# UML Activity Diagram - Sistem Perpustakaan SMK AL-ASIYAH

## 1. Activity Diagram - Login

```
┌─────────────────────────────────────────────────────────────────────────┐
│                    ACTIVITY DIAGRAM - LOGIN                              │
└─────────────────────────────────────────────────────────────────────────┘

    [Start]
      │
      ▼
┌─────────────────┐
│ Input Username  │
│ & Password      │
└────────┬────────┘
         │
         ▼
┌─────────────────┐      ┌──────────────┐
│ Validasi Input  │─────▶│ [Input Kosong]│
│ Kosong?         │      └──────┬───────┘
└────────┬────────┘             │
         │ Ya                   │
         │                       ▼
         │              ┌─────────────────┐
         │              │ Tampilkan Error  │
         │              └────────┬─────────┘
         │                       │
         │                       ▼
         │              ┌─────────────────┐
         │              │      [End]      │
         │              └─────────────────┘
         │
         │ Tidak
         ▼
┌─────────────────┐
│ Query Database  │
│ Cari User       │
└────────┬────────┘
         │
         ▼
┌─────────────────┐      ┌──────────────┐
│ User Ditemukan? │─────▶│ [Tidak Ada]  │
└────────┬────────┘      └──────┬───────┘
         │ Ya                   │
         │                       ▼
         │              ┌─────────────────┐
         │              │ Tampilkan Error │
         │              └────────┬────────┘
         │                       │
         │                       ▼
         │              ┌─────────────────┐
         │              │      [End]      │
         │              └─────────────────┘
         │
         ▼
┌─────────────────┐
│ Validasi        │
│ Password        │
└────────┬────────┘
         │
         ▼
┌─────────────────┐      ┌──────────────┐
│ Password Match? │─────▶│ [Salah]      │
└────────┬────────┘      └──────┬───────┘
         │ Ya                   │
         │                       ▼
         │              ┌─────────────────┐
         │              │ Tampilkan Error │
         │              └────────┬────────┘
         │                       │
         │                       ▼
         │              ┌─────────────────┐
         │              │      [End]      │
         │              └─────────────────┘
         │
         ▼
┌─────────────────┐
│ Set Session     │
│ Current User    │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│ Load Main View  │
│ (Dashboard)     │
└────────┬────────┘
         │
         ▼
    [End]
```

## 2. Activity Diagram - Peminjaman Buku

```
┌─────────────────────────────────────────────────────────────────────────┐
│                ACTIVITY DIAGRAM - PEMINJAMAN BUKU                        │
└─────────────────────────────────────────────────────────────────────────┘

    [Start]
      │
      ▼
┌─────────────────┐
│ Pilih Jenis     │
│ Anggota         │
│ (Siswa/Guru)    │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│ Load Daftar     │
│ Anggota Aktif   │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│ Pilih Anggota   │
│ dari Dropdown   │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│ Load Daftar     │
│ Buku (Stok > 0) │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│ Pilih Buku      │
│ dari Dropdown   │
└────────┬────────┘
         │
         ▼
┌─────────────────┐      ┌──────────────┐
│ Validasi Stok   │─────▶│ [Stok = 0]   │
│ Stok > 0?       │      └──────┬───────┘
└────────┬────────┘             │
         │ Ya                   │
         │                       ▼
         │              ┌─────────────────┐
         │              │ Tampilkan Error │
         │              │ "Stok Habis"    │
         │              └────────┬────────┘
         │                       │
         │                       ▼
         │              ┌─────────────────┐
         │              │      [End]      │
         │              └─────────────────┘
         │
         ▼
┌─────────────────┐
│ Set Tanggal     │
│ Pinjam =        │
│ Hari Ini        │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│ Set Tanggal     │
│ Kembali =       │
│ Hari Ini + 7    │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│ Set Status =    │
│ "dipinjam"      │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│ Insert ke       │
│ Tabel           │
│ PEMINJAMAN      │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│ Update Stok     │
│ Buku:           │
│ stok = stok - 1 │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│ Refresh Tabel   │
│ Peminjaman      │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│ Tampilkan       │
│ Sukses Message  │
└────────┬────────┘
         │
         ▼
    [End]
```

## 3. Activity Diagram - Pengembalian Buku

```
┌─────────────────────────────────────────────────────────────────────────┐
│                ACTIVITY DIAGRAM - PENGEMBALIAN BUKU                      │
└─────────────────────────────────────────────────────────────────────────┘

    [Start]
      │
      ▼
┌─────────────────┐
│ Load Daftar     │
│ Peminjaman      │
│ Status:         │
│ "dipinjam"      │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│ Pilih           │
│ Peminjaman      │
│ dari Tabel      │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│ Ambil Tanggal   │
│ Kembali         │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│ Hitung Selisih  │
│ Hari:           │
│ tgl_sekarang -  │
│ tgl_kembali     │
└────────┬────────┘
         │
         ▼
┌─────────────────┐      ┌──────────────┐
│ Terlambat?      │─────▶│ [Tidak]      │
│ (hari > 0)      │      └──────┬───────┘
└────────┬────────┘             │
         │ Ya                   │
         │                       ▼
         │              ┌─────────────────┐
         │              │ Set Denda = 0   │
         │              └────────┬────────┘
         │                       │
         │                       │
         │              ┌────────┘
         │              │
         ▼              ▼
┌─────────────────┐
│ Hitung Denda =  │
│ hari × 1000     │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│ Konfirmasi      │
│ Pengembalian    │
└────────┬────────┘
         │
         ▼
┌─────────────────┐      ┌──────────────┐
│ User Konfirmasi?│─────▶│ [Batal]      │
└────────┬────────┘      └──────┬───────┘
         │ Ya                   │
         │                       ▼
         │              ┌─────────────────┐
         │              │      [End]      │
         │              └─────────────────┘
         │
         ▼
┌─────────────────┐
│ Insert ke       │
│ Tabel           │
│ PENGEMBALIAN    │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│ Update Status   │
│ PEMINJAMAN:     │
│ "dipinjam" →    │
│ "dikembalikan"  │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│ Update Stok     │
│ BUKU:           │
│ stok = stok + 1 │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│ Refresh Tabel   │
│ Pengembalian    │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│ Tampilkan       │
│ Sukses Message  │
└────────┬────────┘
         │
         ▼
    [End]
```

## 4. Activity Diagram - CRUD Buku

```
┌─────────────────────────────────────────────────────────────────────────┐
│                    ACTIVITY DIAGRAM - CRUD BUKU                         │
└─────────────────────────────────────────────────────────────────────────┘

    [Start]
      │
      ▼
┌─────────────────┐
│ Pilih Aksi      │
│ (Tambah/Edit/   │
│  Hapus)         │
└────────┬────────┘
         │
    ┌────┴────┐
    │         │
    ▼         ▼         ▼
┌────────┐ ┌────────┐ ┌────────┐
│ TAMBAH │ │  EDIT  │ │ HAPUS  │
└───┬────┘ └───┬────┘ └───┬────┘
    │          │          │
    │          │          │
    ▼          ▼          ▼
┌────────┐ ┌────────┐ ┌────────┐
│ Input  │ │ Pilih  │ │ Pilih  │
│ Data   │ │ Buku   │ │ Buku   │
│ Buku   │ │ dari   │ │ dari   │
│        │ │ Tabel  │ │ Tabel  │
└───┬────┘ └───┬────┘ └───┬────┘
    │          │          │
    ▼          ▼          ▼
┌────────┐ ┌────────┐ ┌────────┐
│ Validasi│ │ Load  │ │ Konfirm│
│ Data    │ │ Data  │ │ Hapus? │
└───┬────┘ └───┬────┘ └───┬────┘
    │          │          │
    │          ▼          │
    │     ┌────────┐      │
    │     │ Edit   │      │
    │     │ Data   │      │
    │     └───┬────┘      │
    │          │          │
    │          ▼          │
    │     ┌────────┐      │
    │     │ Validasi│     │
    │     │ Data   │      │
    │     └───┬────┘      │
    │          │          │
    └──────────┴──────────┘
              │
              ▼
    ┌─────────────────┐
    │ [Tambah]        │
    │ INSERT INTO     │
    │ [Edit]          │
    │ UPDATE SET      │
    │ [Hapus]         │
    │ DELETE FROM     │
    └────────┬────────┘
              │
              ▼
    ┌─────────────────┐
    │ Refresh Tabel   │
    │ Buku            │
    └────────┬────────┘
              │
              ▼
         [End]
```

## 5. Activity Diagram - Generate Laporan

```
┌─────────────────────────────────────────────────────────────────────────┐
│                ACTIVITY DIAGRAM - GENERATE LAPORAN                      │
└─────────────────────────────────────────────────────────────────────────┘

    [Start]
      │
      ▼
┌─────────────────┐
│ Pilih Jenis     │
│ Laporan:        │
│ (Harian/        │
│  Mingguan/      │
│  Bulanan)       │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│ Pilih Tanggal/  │
│ Periode         │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│ Pilih Format    │
│ Export:         │
│ (PDF/Excel)     │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│ Query Data      │
│ Berdasarkan     │
│ Periode         │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│ Proses Data     │
│ untuk Laporan   │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│ Generate        │
│ Laporan         │
│ (PDF/Excel)     │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│ Simpan ke       │
│ Tabel LAPORAN   │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│ Tampilkan       │
│ Preview         │
│ Laporan         │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│ Export ke File  │
│ (PDF/Excel)     │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│ Tampilkan       │
│ Sukses Message  │
└────────┬────────┘
         │
         ▼
    [End]
```


