<svg xmlns="http://www.w3.org/2000/svg" width="1100" height="500" viewBox="0 0 1100 500">
  <style>
    .start { fill:#d9f2ff; stroke:#0277bd; stroke-width:2; }
    .action { fill:#f0f4c3; stroke:#7cb342; stroke-width:2; }
    .decision { fill:#fff3e0; stroke:#ef6c00; stroke-width:2; }
    .end { fill:#e8eaf6; stroke:#3949ab; stroke-width:2; }
    .label { font-family: 'Segoe UI', Tahoma, sans-serif; font-size:14px; fill:#1f2937; }
    .title { font-family: 'Segoe UI', Tahoma, sans-serif; font-size:18px; fill:#0f172a; font-weight:bold; }
  </style>
  <defs>
    <marker id="arrow" viewBox="0 0 12 12" refX="10" refY="6" markerWidth="12" markerHeight="12" orient="auto">
      <path d="M0,0 L12,6 L0,12 z" />
    </marker>
  </defs>
  <text x="550" y="30" text-anchor="middle" class="title">Alur Generasi Laporan (PDF/Excel)</text>

  <rect class="start" x="40" y="60" width="200" height="60" rx="8" ry="8" />
  <text class="label" x="140" y="95" text-anchor="middle">Mulai Laporan</text>

  <rect class="action" x="300" y="60" width="250" height="70" rx="8" ry="8" />
  <text class="label" x="425" y="100" text-anchor="middle">Pilih rentang tanggal &amp; tipe laporan</text>

  <rect class="action" x="600" y="60" width="200" height="70" rx="8" ry="8" />
  <text class="label" x="700" y="100" text-anchor="middle">Validasi filter &amp; akses role</text>

  <rect class="action" x="860" y="60" width="200" height="70" rx="8" ry="8" />
  <text class="label" x="960" y="100" text-anchor="middle">Query data transaksi</text>

  <polygon class="decision" points="960,180 1030,220 960,260 890,220" />
  <text class="label" x="960" y="225" text-anchor="middle">Data ditemukan?</text>

  <rect class="action" x="720" y="180" width="140" height="70" rx="8" ry="8" />
  <text class="label" x="790" y="215" text-anchor="middle">Info: tidak ada data</text>

  <polygon class="decision" points="520,180 590,220 520,260 450,220" />
  <text class="label" x="520" y="225" text-anchor="middle">Format?</text>

  <rect class="action" x="300" y="170" width="130" height="70" rx="8" ry="8" />
  <text class="label" x="365" y="205" text-anchor="middle">JasperReports<br/>render PDF</text>

  <rect class="action" x="40" y="170" width="130" height="70" rx="8" ry="8" />
  <text class="label" x="105" y="205" text-anchor="middle">Apache POI<br/>generate XLSX</text>

  <rect class="action" x="260" y="290" width="200" height="60" rx="8" ry="8" />
  <text class="label" x="360" y="325" text-anchor="middle">Simbulkan nama file &amp; lokasi arsip</text>

  <rect class="action" x="520" y="290" width="220" height="60" rx="8" ry="8" />
  <text class="label" x="630" y="325" text-anchor="middle">Audit trail (pengunduh, waktu, filter)</text>

  <rect class="end" x="800" y="290" width="140" height="60" rx="8" ry="8" />
  <text class="label" x="870" y="325" text-anchor="middle">Selesai</text>

  <line x1="240" y1="90" x2="300" y2="90" stroke="#0f172a" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="550" y1="95" x2="600" y2="95" stroke="#0f172a" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="800" y1="95" x2="860" y2="95" stroke="#0f172a" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="960" y1="130" x2="960" y2="180" stroke="#0f172a" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="890" y1="220" x2="660" y2="220" stroke="#0f172a" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="520" y1="260" x2="520" y2="290" stroke="#0f172a" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="720" y1="220" x2="590" y2="220" stroke="#0f172a" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="450" y1="220" x2="430" y2="220" stroke="#0f172a" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="300" y1="205" x2="170" y2="205" stroke="#0f172a" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="170" y1="205" x2="170" y2="290" stroke="#0f172a" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="365" y1="240" x2="360" y2="290" stroke="#0f172a" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="460" y1="320" x2="520" y2="320" stroke="#0f172a" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="740" y1="320" x2="800" y2="320" stroke="#0f172a" stroke-width="2" marker-end="url(#arrow)" />
</svg>
