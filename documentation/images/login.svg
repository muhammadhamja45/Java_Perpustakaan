<svg xmlns="http://www.w3.org/2000/svg" width="1100" height="720" viewBox="0 0 1100 720">
  <style>
    .start { fill:#d9f2ff; stroke:#0277bd; stroke-width:2; }
    .action { fill:#f0f4c3; stroke:#7cb342; stroke-width:2; }
    .decision { fill:#fff3e0; stroke:#ef6c00; stroke-width:2; }
    .end { fill:#e8eaf6; stroke:#3949ab; stroke-width:2; }
    .label { font-family: 'Segoe UI', Tahoma, sans-serif; font-size:14px; fill:#1f2937; }
    .title { font-family: 'Segoe UI', Tahoma, sans-serif; font-size:18px; fill:#0f172a; font-weight:bold; }
    marker#arrow { markerWidth:12; markerHeight:12; refX:10; refY:6; orient="auto"; }
    marker#arrow path { fill:#0f172a; }
  </style>
  <defs>
    <marker id="arrow" viewBox="0 0 12 12" refX="10" refY="6" markerWidth="12" markerHeight="12" orient="auto">
      <path d="M0,0 L12,6 L0,12 z" />
    </marker>
  </defs>
  <text x="550" y="32" text-anchor="middle" class="title">Alur Login &amp; Otorisasi</text>

  <!-- Nodes -->
  <rect class="start" x="470" y="60" width="160" height="50" rx="8" ry="8" />
  <text class="label" x="550" y="90" text-anchor="middle">Mulai</text>

  <rect class="action" x="470" y="140" width="160" height="60" rx="8" ry="8" />
  <text class="label" x="550" y="175" text-anchor="middle">Halaman Login</text>

  <polygon class="decision" points="550,240 630,280 550,320 470,280" />
  <text class="label" x="550" y="284" text-anchor="middle">Input username<br/> &amp; password?</text>

  <rect class="action" x="160" y="260" width="200" height="60" rx="8" ry="8" />
  <text class="label" x="260" y="295" text-anchor="middle">Info: lengkapi<br/>kredensial</text>

  <rect class="action" x="750" y="260" width="220" height="60" rx="8" ry="8" />
  <text class="label" x="860" y="295" text-anchor="middle">BCrypt verifikasi password</text>

  <polygon class="decision" points="860,360 940,400 860,440 780,400" />
  <text class="label" x="860" y="404" text-anchor="middle">Valid?</text>

  <rect class="action" x="660" y="520" width="160" height="60" rx="8" ry="8" />
  <text class="label" x="740" y="555" text-anchor="middle">Error: kredensial salah</text>

  <rect class="action" x="540" y="440" width="200" height="60" rx="8" ry="8" />
  <text class="label" x="640" y="475" text-anchor="middle">Ambil role &amp; preferensi</text>

  <polygon class="decision" points="420,360 500,400 420,440 340,400" />
  <text class="label" x="420" y="404" text-anchor="middle">Role?</text>

  <rect class="action" x="160" y="440" width="180" height="60" rx="8" ry="8" />
  <text class="label" x="250" y="475" text-anchor="middle">Load Dashboard Admin</text>

  <rect class="action" x="360" y="520" width="180" height="60" rx="8" ry="8" />
  <text class="label" x="450" y="555" text-anchor="middle">Load Dashboard Petugas</text>

  <rect class="action" x="70" y="520" width="200" height="60" rx="8" ry="8" />
  <text class="label" x="170" y="555" text-anchor="middle">Gunakan fitur sesuai role</text>

  <rect class="end" x="70" y="610" width="240" height="60" rx="8" ry="8" />
  <text class="label" x="190" y="645" text-anchor="middle">Monitoring aktivitas &amp;<br/>audit trail</text>

  <!-- Connectors -->
  <line x1="550" y1="110" x2="550" y2="140" stroke="#0f172a" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="550" y1="200" x2="550" y2="240" stroke="#0f172a" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="470" y1="280" x2="360" y2="280" stroke="#0f172a" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="630" y1="280" x2="750" y2="280" stroke="#0f172a" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="860" y1="320" x2="860" y2="360" stroke="#0f172a" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="860" y1="440" x2="860" y2="520" stroke="#0f172a" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="780" y1="400" x2="740" y2="400" stroke="#0f172a" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="640" y1="400" x2="500" y2="400" stroke="#0f172a" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="420" y1="440" x2="420" y2="520" stroke="#0f172a" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="340" y1="400" x2="250" y2="400" stroke="#0f172a" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="250" y1="500" x2="170" y2="520" stroke="#0f172a" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="450" y1="580" x2="310" y2="610" stroke="#0f172a" stroke-width="2" marker-end="url(#arrow)" />
</svg>
