<svg xmlns="http://www.w3.org/2000/svg" width="1280" height="520" viewBox="0 0 1280 520">
  <style>
    .start { fill:#d9f2ff; stroke:#0277bd; stroke-width:2; }
    .action { fill:#f0f4c3; stroke:#7cb342; stroke-width:2; }
    .decision { fill:#fff3e0; stroke:#ef6c00; stroke-width:2; }
    .end { fill:#e8eaf6; stroke:#3949ab; stroke-width:2; }
    .label { font-family: 'Segoe UI', Tahoma, sans-serif; font-size:14px; fill:#1f2937; }
    .title { font-family: 'Segoe UI', Tahoma, sans-serif; font-size:18px; fill:#0f172a; font-weight:bold; }
  </style>
  <defs>
    <marker id="arrow" viewBox="0 0 12 12" refX="10" refY="6" markerWidth="12" markerHeight="12" orient="auto">
      <path d="M0,0 L12,6 L0,12 z" />
    </marker>
  </defs>
  <text x="550" y="32" text-anchor="middle" class="title">Alur Pengembalian &amp; Perhitungan Denda</text>

  <rect class="start" x="40" y="60" width="220" height="60" rx="8" ry="8" />
  <text class="label" x="150" y="95" text-anchor="middle">Mulai Pengembalian</text>

  <rect class="action" x="320" y="60" width="220" height="60" rx="8" ry="8" />
  <text class="label" x="430" y="95" text-anchor="middle">Pilih transaksi aktif</text>

  <rect class="action" x="580" y="60" width="220" height="60" rx="8" ry="8" />
  <text class="label" x="690" y="95" text-anchor="middle">Ambil tanggal jatuh tempo</text>

  <rect class="action" x="840" y="60" width="200" height="60" rx="8" ry="8" />
  <text class="label" x="940" y="95" text-anchor="middle">Hitung keterlambatan</text>

  <polygon class="decision" points="940,170 1010,210 940,250 870,210" />
  <text class="label" x="940" y="214" text-anchor="middle">Terlambat?</text>

  <rect class="action" x="720" y="260" width="180" height="60" rx="8" ry="8" />
  <text class="label" x="810" y="295" text-anchor="middle">Set denda = 0</text>

  <rect class="action" x="980" y="260" width="180" height="60" rx="8" ry="8" />
  <text class="label" x="1070" y="295" text-anchor="middle">Hitung denda otomatis</text>

  <rect class="action" x="600" y="350" width="200" height="60" rx="8" ry="8" />
  <text class="label" x="700" y="385" text-anchor="middle">Update status transaksi</text>

  <rect class="action" x="340" y="350" width="200" height="60" rx="8" ry="8" />
  <text class="label" x="440" y="385" text-anchor="middle">Kembalikan stok buku</text>

  <polygon class="decision" points="200,350 270,390 200,430 130,390" />
  <text class="label" x="200" y="395" text-anchor="middle">Terima pembayaran denda?</text>

  <rect class="action" x="20" y="450" width="180" height="60" rx="8" ry="8" />
  <text class="label" x="110" y="485" text-anchor="middle">Catat pembayaran &amp; resi</text>

  <rect class="action" x="240" y="450" width="200" height="60" rx="8" ry="8" />
  <text class="label" x="340" y="485" text-anchor="middle">Tagih kemudian / simpan piutang</text>

  <rect class="action" x="480" y="450" width="220" height="60" rx="8" ry="8" />
  <text class="label" x="590" y="485" text-anchor="middle">Perbarui dashboard &amp; laporan</text>

  <rect class="end" x="740" y="450" width="140" height="60" rx="8" ry="8" />
  <text class="label" x="810" y="485" text-anchor="middle">Selesai</text>

  <line x1="260" y1="90" x2="320" y2="90" stroke="#0f172a" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="540" y1="90" x2="580" y2="90" stroke="#0f172a" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="800" y1="90" x2="840" y2="90" stroke="#0f172a" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="940" y1="120" x2="940" y2="170" stroke="#0f172a" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="870" y1="210" x2="720" y2="210" stroke="#0f172a" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="1010" y1="210" x2="1070" y2="260" stroke="#0f172a" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="810" y1="320" x2="810" y2="350" stroke="#0f172a" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="1070" y1="320" x2="860" y2="350" stroke="#0f172a" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="700" y1="410" x2="540" y2="410" stroke="#0f172a" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="440" y1="410" x2="270" y2="410" stroke="#0f172a" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="200" y1="430" x2="200" y2="450" stroke="#0f172a" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="130" y1="390" x2="110" y2="450" stroke="#0f172a" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="420" y1="450" x2="420" y2="450" stroke="#0f172a" stroke-width="2" />
  <line x1="200" y1="510" x2="240" y2="510" stroke="#0f172a" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="440" y1="510" x2="480" y2="510" stroke="#0f172a" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="700" y1="480" x2="740" y2="480" stroke="#0f172a" stroke-width="2" marker-end="url(#arrow)" />
</svg>
